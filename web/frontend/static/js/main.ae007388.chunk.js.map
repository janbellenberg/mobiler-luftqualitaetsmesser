{"version":3,"sources":["components/Dialog/DiagDialog.js","components/Header/index.js","components/GridElement/index.js","components/GridElement/DiagramElement.js","components/IconButton/index.js","components/GridElement/ActionElement.js","icons/export.png","icons/refresh.png","icons/info.png","components/StatusIndicator/index.js","components/GridElement/InfoElement.js","icons/temperture.png","icons/humidity.png","icons/co2.png","components/Dialog/index.js","components/Dialog/FilterDialog.js","components/Dialog/InfoDialog.js","App.js","index.js"],"names":["port","Header","onLoadData","onDiag","src","alt","type","value","onClick","id","GridElement","children","DiagramElement","title","data","labels","min","max","height","width","datasets","label","fill","backgroundColor","borderColor","options","elements","point","radius","maintainAspectRatio","responsive","scales","yAxes","ticks","legend","display","IconButton","text","icon","className","ActionElement","onExport","onRefresh","onInfo","status","undefined","icons","StatusIndicator","score","temperature","humidity","co2","InfoElement","location","room","position","style","marginTop","Dialog","actionText","onActionClick","onAbortClick","open","SerialPort","Binding","WSABinding","DiagDialog","onHide","useState","baudRate","setBaudRate","connected","setConnected","useReducer","state","action","payload","Error","content","dispatch","dec2hex16bitWithPad","i","toString","substr","toUpperCase","connect","a","navigator","serial","requestPort","info","getInfo","path","usbVendorId","usbProductId","autoOpen","on","encodedString","String","fromCharCode","apply","useEffect","binding","isOpen","close","htmlFor","onChange","e","parseInt","target","readOnly","FilterDialog","onFilter","Date","toISOString","slice","date","setDate","setLocation","setRoom","setPosition","locationList","setLocations","roomList","setRooms","positionList","setPositions","fetch","then","res","json","filter","name","map","item","InfoDialog","window","focus","margin","href","rel","App","setTemperature","setHumidity","setCo2","setLabels","selectedLocation","setSelectedLocation","selectedRoom","setSelectedRoom","selectedPosition","setSelectedPosition","lastFilter","setLastFilter","showDiagDialog","setShowDiagDialog","showFilterDialog","setShowFilterDialog","showInfoDialog","setShowInfoDialog","updateData","tmp","t","h","c","l","forEach","push","timestamp","length","result","encodeURI","link","document","createElement","setAttribute","body","appendChild","click","exportCSV","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.ae007388.chunk.js","sourcesContent":["import { useState, useReducer, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport Dialog from \".\";\nimport SerialPort from '@serialport/stream';\nimport WSABinding from 'serialport-binding-webserialapi';\n\nSerialPort.Binding = WSABinding;\nlet port;\n\nconst DiagDialog = ({onHide}) => {\n\n  function reducer(state, action) {\n    switch (action.type) {\n      case 'append':\n        return state + action.payload;\n      default:\n        throw new Error();\n    }\n  }\n\n  const [baudRate, setBaudRate] = useState(9600);\n  const [connected, setConnected] = useState(false);\n  const [content, dispatch] = useReducer(reducer, \"\");\n\n  const dec2hex16bitWithPad = (i) => {\n    return (i + 0x10000).toString(16).substr(-4).toUpperCase();\n  }  \n\n  const connect = async () => {\n    port = await navigator.serial.requestPort();\n    let info = port.getInfo();\n    let path = 'wsa://'\n      + dec2hex16bitWithPad(info.usbVendorId)\n      + '-'\n      + dec2hex16bitWithPad(info.usbProductId);\n\n    port = new SerialPort(path, { \n      baudRate: baudRate,\n      autoOpen: true\n    });\n\n    port.on('open', () => {\n      setConnected(true);\n    });\n\n    port.on('data', data => {\n      let encodedString = String.fromCharCode.apply(null, data);\n      dispatch({type: 'append', payload: encodedString});\n    });\n  };\n\n  const close = () => {\n    setConnected(false);\n    if(port !== undefined && port !== null && port.binding.isOpen) {\n      port.close();\n    }\n    onHide();\n  };\n\n  useEffect(() => {\n    return () => {\n      if(port !== undefined && port !== null && port.binding.isOpen) {\n        port.close();\n      }\n    }\n  }, []);\n\n  return (\n    <div id=\"diag-dialog-wrapper\">\n      <Dialog\n        title={\"Diagnose (\" + (connected ? \"Verbindung hergestellt\" : \"keine Verbindung\") + \")\"}\n        actionText=\"Verbinden\"\n        onActionClick={connect}\n        onAbortClick={close}>\n\n        <span id=\"baud-rate-wrapper\">\n          <label htmlFor=\"baudrate\">Baudrate: </label>\n          <select\n            id=\"baudrate\"\n            value={baudRate}\n            onChange={(e) => { setBaudRate(parseInt(e.target.value)) }}>\n\n            <option>300</option>\n            <option>600</option>\n            <option>1200</option>\n            <option>2400</option>\n            <option>4800</option>\n            <option>9600</option>\n            <option>14400</option>\n            <option>19200</option>\n            <option>28800</option>\n            <option>38400</option>\n            <option>56000</option>\n            <option>57600</option>\n            <option>115200</option>\n            <option>128000</option>\n            <option>256000</option>\n          </select>\n        </span>\n          \n        <textarea\n          readOnly\n          value={content}\n          style={{height: \"15em\"}} />\n\n      </Dialog>\n    </div>\n  );\n};\n\nDiagDialog.propTypes = {\n  onHide: PropTypes.func.isRequired\n};\n\nexport default DiagDialog;","import PropTypes from 'prop-types';\nimport './Header.css';\n\nconst Header = ({onLoadData, onDiag}) => {\n\n  return (\n    <header>\n      <div>\n        <img src=\"https://hnbk.de/wp-content/uploads/2017/04/HNBKSmall-e1492069901821.png\" alt=\"HNBK\" />\n        <h1>Mobiler Luftqualitätsmesser</h1>\n      </div>\n      <div>\n        <input \n          type=\"button\"\n          value=\"Daten laden\"\n          onClick={onLoadData} />\n\n        <input\n          type=\"button\"\n          value=\"Diagnose\"\n          onClick={onDiag} />\n      </div>\n      <div id=\"header-bottom\" />\n    </header>\n  );\n};\n\nHeader.propTypes = {\n  onLoadData: PropTypes.func.isRequired,\n  onDiag: PropTypes.func.isRequired\n};\n\nexport default Header;","import PropTypes from 'prop-types';\nimport './GridElement.css';\n\nconst GridElement = ({children}) => {\n  return (\n    <section>\n      {children}\n    </section>\n  );\n};\n\nGridElement.propTypes = {\n  children: PropTypes.node\n};\n\nexport default GridElement;","import React from 'react';\nimport { Line } from 'react-chartjs-2';\nimport PropTypes from 'prop-types';\n\nimport GridElement from '.';\n\nconst DiagramElement = ({title, data, labels, min, max}) => {\n  \n  return (\n    <GridElement>\n      <h2>{title}</h2>\n      <Line height={250} width={500}\n        data={{\n          labels: labels,\n          datasets: [{\n            label: title,\n            data: data,\n            fill: true,\n            backgroundColor: \"#659DBD70\",\n            borderColor: \"#659DBD\"\n          }]\n        }}\n        options={{\n          elements: { point: { radius: 2 } },\n          maintainAspectRatio: true,\n          responsive: true,\n          scales: {\n            yAxes: [{\n              ticks: {\n                min: min,\n                max: max\n              }\n            }]\n          },\n          legend: {\n            display: false\n          }\n        }}\n\n      />\n    </GridElement>\n  );\n}\n\nDiagramElement.propTypes = {\n  title: PropTypes.node.isRequired,\n  data: PropTypes.array.isRequired,\n  labels: PropTypes.array.isRequired,\n  min: PropTypes.number.isRequired,\n  max: PropTypes.number.isRequired\n};\n\nexport default DiagramElement;","import PropTypes from 'prop-types';\nimport './IconButton.css';\n\nconst IconButton = ({text, icon, onClick}) => {\n  return (\n    <span className=\"icon-button\" onClick={onClick}>\n      <img src={icon} alt=\"\" />\n      {text}\n    </span>\n  );\n};\n\nIconButton.propTypes = {\n  text: PropTypes.string.isRequired,\n  icon: PropTypes.string.isRequired,\n  onClick: PropTypes.func.isRequired\n};\n\nexport default IconButton;","import PropTypes from 'prop-types';\nimport GridElement from \".\";\nimport IconButton from \"../IconButton\";\nimport ExportIcon from \"../../icons/export.png\";\nimport RefreshIcon from \"../../icons/refresh.png\";\nimport InfoIcon from '../../icons/info.png';\n\nconst ActionElement = ({onExport, onRefresh, onInfo}) => {\n  return (\n    <GridElement>\n      <div id=\"action-flex\">\n        <IconButton\n          text=\"Exportieren\"\n          icon={ExportIcon}\n          onClick={onExport} />\n\n        <IconButton\n          text=\"Aktualisieren\"\n          icon={RefreshIcon}\n          onClick={onRefresh} />\n        \n        <IconButton\n          text=\"Info\"\n          icon={InfoIcon}\n          onClick={onInfo} />\n      </div>\n    </GridElement>\n  );\n};\n\nActionElement.propTypes = {\n  onExport: PropTypes.func.isRequired,\n  onRefresh: PropTypes.func.isRequired,\n  onInfo: PropTypes.func.isRequired\n};\n\nexport default ActionElement;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABX0lEQVRYR+2Xvy4FURDGf19FJBKJzkuo0CiIKCReQZSCCAndjaBEKPxNvIDOK5CIN/AKCqIjNJJPzs0W69p792TvZrfZbXfOmd+Z+WbmHFHzp5r90wB0jYDt/TLTIylzv14ALhkg01cMwEGfIHthvaRiAN0WxkLZbkeyAagzAo/AdKUAtseAReAWmAJakmazdJNbBUVEaLsFrAFnwAUwIemhSoB1YDeIHzgFriR9VAkwBKwAO8AAcAKcS/rshCiUAtvDwHZOLxgEloCgh3fgELiU9J1eVxQgbPoS24wSu2dgTtJbGQAxEQg2y8Ao8JrSwp80FIpA3sltjwAbwCbwAxwD15K+StFABMAWEIZQcH6U5P6f8/aM6LZZ3hDpBWE7CHQVuAklCIxLeqqyDEPeF4A7YDLphPOVAaQd2b4HZiqdBR0AzX2gvwgA9d4J82o+9n8REdb7Log9Wb92zdvwF1LEyiEj0wNQAAAAAElFTkSuQmCC\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAChklEQVRYR+2XS6hNYRiGnzcDuRuQSyFSbjFEDN3LJSMTIUMDkbE6J7NTSAZmlJgpJdcMjIhInXRIUig6SsolE5dX3+5fp3XOXnuvtdRuD+x/smqvf//fs77vW9/7LtHlpS7HpwdQKwO2pwIrgXnATGACNLL4G/gIvAEGJX2tWtpKALanAJuAdcAqYH4OIGL9AYaBt8BT4D5wT9KXuGm7L66SGtf8KgWwvQzYC+wAlgJDwAvgA/ArHTYemAPE3tjzHLgNXJI0ZNsJoCleWwDba4CjwC7gNXATeJAD+JkDmJuCrwe2AwuAa8AA8KQ2gO14klPAFuAOcCGuZfW1PR3YChxIZbsO7KwFYHsScDYdEsH7JD2q2lip7muBE8CG1KjRA9VKYHsPcB54D+yT9LBq8Kzh0v4ox8bsv5UAbI8DbgCbo/6SzlQNnp680XBFqw7AIWA5cFzSp5oATa9aLgPVXkPbUatZkuLd7ugqnQMdjZ51Z6eDtDu/l4H/IwO2Q6iGJTXNiMIMjJlmo+WzQFLbNZntGWkkh4qekxTeYWS1Aqg1zUoAQk1PArdClP4FIMZyQ05jFZmKVgC2w8BcBGaHsEm6MnZvWQYiEwHQL2kEosrcsB1q2J8kOYTtsKQfdQHCgIS2R/ouJz/wuSTl05KHOJgELc44JulloUAV/ZhZKCAc0RFgd/J7cVj4grBk4f++pf9PTg4oLNlqYBuwCLgKnJb0uBV02xKEfNpeAuxPNisCvEoA7xJAlCkDCAVdnO6HHQtPWPjkIz3VIgOjXKztSGsYizAYK4CFQHjAickRRybClgfUYPKNdyV9L+uXWpMwgeQB4rsgLHke4JmkrDRl8XufZt3PwF9s6tsh/WvRgwAAAABJRU5ErkJggg==\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABmJLR0QA/wD/AP+gvaeTAAACfUlEQVRYCe2WzWsTQRjGZ0OgHqwR6gf4edIggv1QvFtPvVXSv6igeCgtvXioZz0pgiI2rTf9Gzz0UqFWiNiDLX4d6vh7sjPpZpPNTO2iCA3Pb953Z573nek2ycaYw9c/vgPJfva31tbxN2AKTsEISFsMLXgFT5MkWSOWJzaegFWIVRPj2IFPQJMqLMIuSC2GJZiGq3DSofwO+UP4BJJq5kmqf3QQCo/DCkg/GO7BcKgZnmNwH1RDsLobtVBd1zpVQ/AWpHVr7bUuQ8QFNaOwbtPXG8JQRFlqwbwE0gbDuXR2/yO152ETpAdRHXDehF/wFcajigaY6HEDvoF6Xh9gTZcwvgZpNp0pHmUSxY50Bc9dkJrpTMGIow7SZ4aYNxw2awvadaYx1WALpEudBZIKZDXjLvRlsuPywsAXTluFBreA6QvpM5AaGjz5A0y6hZculhl8z9vZppXsBfkFkN5pCKH7KUI+t+57+j3cdCbQbAeko5npwlRGUWjILOAbBmk7M23yd8A/nIJvrGyTg+T5A3x0zc64WGY465ptutgO+QNstGeNueJimcH3/JBtmj/AslucdrHM4HvqN0P/vrxD/voXUc9JOMQqSLM9i7kJmURuuucSjx7lBOvvcI+nM4FrHHahzIfRd/qp52hno0EJ5gWQynwczw3as2uNnSvwAiQ9mG51GSIuKJwE1RLsc4ZKRNmehYIarICkn1dzJCN7jv4ZnhMwDz9BajLU+rsDsxRWYRH0/yPYbYZH0IDLcMShfIb8MchDsKpZIKkGtgkv02QC/KeDNCj91WPhzsYkMSbvYds6eQOm4CKcBqnF8N4Yo4/ZE57/a+SH+j/uwG9CesMLcRdgqQAAAABJRU5ErkJggg==\"","import PropTypes from 'prop-types';\nimport './StatusIndicator.css';\n\nconst status = [undefined, \"good\", \"attention\", \"bad\"];\nconst icons = [\"?\", \"✔\", \"●\", \"✖\"]\n\nconst StatusIndicator = ({temperature, humidity, co2}) => {\n\n  let score;\n\n  if (temperature === undefined || humidity === undefined || co2 === undefined) {\n    score = 0;\n  } else if ((temperature >= 18 && temperature <= 23) && (humidity >= 40 && humidity <= 60) && co2 <= 800) {\n    score = 1\n  } else if ((temperature >= 15 && temperature <= 26) && (humidity >= 20 && humidity <= 80) && co2 <= 1400) {\n    score = 2;\n  } else {\n    score = 3;\n  }\n\n  return (\n    <div id=\"status-indicator\" status={status[score]}>\n      {icons[score]}\n    </div>\n  );\n};\n\nStatusIndicator.propTypes = {\n  temperature: PropTypes.number,\n  humidity: PropTypes.number,\n  co2: PropTypes.number\n};\n\nexport default StatusIndicator;","import GridElement from \".\";\nimport StatusIndicator from \"../StatusIndicator\";\nimport PropTypes from 'prop-types';\n\nimport TemperatureIcon from '../../icons/temperture.png';\nimport HumidityIcon from '../../icons/humidity.png';\nimport CO2Icon from '../../icons/co2.png';\n\nconst InfoElement = ({location, room, position, temperature, humidity, co2}) => {\n  return (\n    <GridElement>\n      <div id=\"info-flex\">\n        <StatusIndicator temperature={temperature}  humidity={humidity}  co2={co2} />\n        <div style={{marginTop: \"15px\"}}>\n          <b>Raum {room}</b><br/>\n          #{position}<br/>\n          {location}<br/>\n        </div>\n        <div>\n          <div className=\"info-item\">\n            <img src={TemperatureIcon} alt=\"Temperatur\" />\n            {temperature || \"- \"}°C\n          </div>\n          <div className=\"info-item\">\n            <img src={HumidityIcon} alt=\"Luftfeuchte\" />\n            {humidity || \"- \"}%\n          </div>\n          <div className=\"info-item\">\n            <img src={CO2Icon} alt=\"CO2-Gehalt\" />\n            {co2 || \"-\"} ppm\n          </div>\n          \n        </div>\n      </div>\n    </GridElement>\n  );\n};\n\nInfoElement.propTypes = {\n  location: PropTypes.node,\n  room: PropTypes.node,\n  position: PropTypes.node,\n  temperature: PropTypes.number,\n  humidity: PropTypes.number,\n  co2: PropTypes.number\n};\n\nexport default InfoElement;","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAcCAYAAACQ0cTtAAACqElEQVRIS92WX0hUQRTGv3O97ppUECwV0UNvFtSjGCy2c3fdIjEqAiGQQPKh6CGIyIeChMgSon9SDxEFPQQSRFAES9CdWUQh1giSEsJe7c9SSRJ5986cGNBYwl11XUSa18t8v3O+OfPNJSzjomVkYWXCfN8/DWB1KSeIaFoIcamcUwvuTEr5CcCGMmI/hRBrqwlbY4xJzgo6jnMOQBuAVmb+6nlerpqw+uLqpZT3AHSGYbixpaXl83zDtlgb67XWoqamZoSILjLzJgubgVTdxlKw1wAmhRB/LZ6ry6p0tqw2EtEVZv5W7dFfEWdWvdGXUjYCyABwS0xjuxDi0ZJGn5lJStlERPcBbAHwVGt9eXb0jTF5Ijpjk8UY0+553mMi4pKRVq6aTCazvq6u7iYz72Xm80KIfqXUbgDPAfS7rns2CAKPiG4TkVtbWxuPx+PjFcGUUvYsrgF447pul9Z6BzPbsN0F4AMR9cVisYF8Pt/NzN0AeoQQvRXBfN8/4TiOFT9ujBkgIttRukjsrTHmcCQSCbXW75j5mRBif0UwpdRpZu7VWrclk8kXSqmJf5L/h+M4exzHeR+G4SSAQSGE7XrOVTZBstnsMWNMHxGdGhsbe9DQ0HAXwJEipSwzH7XvHBGNAHgihDhUEUxK6QG4ASBfKBQORqPRCDPbtGgFMOo4Tk9zc/OgUuoOgA5bVCKRuFURbGhoaFWhULDiXQCuM/MFAL89z9P2WgwPD0eDIOgAcJWIJoIgaEyn09bOxdtodyilthljrFiKiHwAD5n5I4AYgH0ADgD4rrXuTKVS2SU/nr7vbyeikwB2Atg88y8yDcAOzCgR9ScSiZdLSpDizblcrn5qaqoJwFYA65j5FxGNh2H4KpVKfSmXHLM6C37P5qt6Id//X9gf6JFsLNCgxeEAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAcCAYAAACQ0cTtAAAFFUlEQVRIS92Wb2hVdRjHv9/fOffueqcuY3/YxP7QHNUqe2HNrvPunlktLFpS3ZAgfOGcoBAF9s+MGZWRmGiggUaWmLG9CMJmm9N7z91SoUtYSpmmhkzd3CTd33Y75/fED1SyuasvRKLz5l44nPP5fZ/n+3yfQ9zAizeQhf8WLJ1OhwcHB2dorR8hWSoik0hmSJ7SWn8PoMV13RMNDQ36alUaU5mIqFQqNUNEGgA8BCAHgAWAJEVrLSQ9AOdJruvu7l4Vj8cz2YBXhLW0tOSGQqHnRGQFyTwAe0h+KSKuUuqciIREZKqIPEHyaRG5BcA+3/fnt7e3Hx9L5ShYY2NjsKCg4AWSK0meALA6Jydn++Dg4ASS+SKSo5QyJRvwPO+0bdvFJJcBqBWRn5VSddFo9KBR/2+Vo2Cu60ZFZCuA0yTfHB4ePhAOh6u01nMBPAjgZgB/ATgOYCfJ3zzP+9227UdFZCGAHbZtL62srDyVFbZnz55xmUxmO4ByAEuVUm1a6wUAFgP4A0CK5BkApozTAEw3/wF8JyLzSK4B8LA5pNb6M8dxTE8vXZcp27VrV7VlWc0AvgkGg3WZTKYWwDsADorIKgD7e3p6+oqLi3M9z6snudS8yfweOnRoS1lZWQXJbaa3WutXZ8+efXJMmOu6H4lInWVZdZ7n7SX5IYAyrXW94zjtJHUikbBFpEYp9QGACQCWhcPhnQMDA9NI/njhmXIRWew4Tkc2WIeI3E/yXhEpBbCZ5Bda63cdxzm3e/fuWqWUUVgMoJ/ka1rrr5VSxqkBEXkcwAKSrwNYEovFvsoGOyoihf39/UUTJ058TERMSV7s6enZGI/H/UQi0UlyMgDjxtUi8lYgEAh4nnfUmCYWi012XXeK1vptkq2xWGzbmLBkMvkrgJKhoaHJ48ePd7TWW0guz8/P31BeXp5xXdcofwDAWQNyHGdTKpUqEJH9IjJSVVVV2traOs627ZmBQKA3Go3+kE3ZtwBmAag0s+R53nwTR4WFhbsNLJFIGPc9T/K4iDQ6jtPV3NxcEA6HXwIgnuets207bowkInuzujGZTC43tjVNz83NXXvs2DE7Ho//aV6ULYZEhC0tLZNCoVAtyfe11qZXDeYwYypLpVJ3a63TANLBYHBeJBK5zLrZgK7r3i4iZkbvInkawCvd3d1N/8zLy+assbHRKiwsXA9gHoA1Q0ND782ZM2fkamlu7icSiY9JmhK6ZlwAnLQsa9GsWbOOXXx+VFx1dHSUeJ6XMDNEckV+fv6npl/ZgG1tbffZtm3WzU++7z9jWVa9iLwMYNHhw4e31tfXm3gbvTxN/ZPJ5EySnwO4CcBGEdkwMDBwZnh4eCQej2sRQVNTU6CgoEC5rpuJxWIbjXGUUkui0eim9vb2St/314nIeQBzzYxeEXahJLZSKgrgDRGZTtL0bofWeh+AXpP8tm2bFZOjtTah3QbgNsuypkaj0dPpdDqvv79/E8nZIyMjd9bU1Jg8HfuzwChMpVJmMz8rIlGl1FQAZsXkkvQvnHq7mTel1GYRiZB8qq+vryMvL69Ua72WZEkoFIpUVFSczQq72COThVrrWwOBwD1a6xIRmaiUMmneS/KXrq6uA0VFRU+KyCcATCiYPDSHNKG8PhgMroxEIsPXBLsWJ15YTSYAFpK8Q0R6ATT5vr++urr6xMVFet2+ro4cOZLT2dk5xbKssO/7xr1dsVjMfJ9cCoTrBruWCvx/YX8Djw+JO+1MwJwAAAAASUVORK5CYII=\"","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABsAAAAcCAYAAACQ0cTtAAAEWElEQVRIS+2WXWgcVRTH/2dmN+NurEbbBCFisUrSbkBMydPW7czdXYnEQixURatG6YO0tlDEj4K0hPhQIhW1fmBMU6HoSwxFBBOTGCczSWqJayW0Vat902rJ2iQ0m3V3s3OP3JKVfDUJVfogztPAvff/O/9zzzkzhOv40HVk4X/Yv5LtFaWxvb1dX7Nmzb2apm0EsIqZcz6f77yu68PhcHhspZEsC0skEsFUKtVARNuZOQSgmJmniehXAK6U8nUhxE9ExMtBl4QpR2VlZc8C2AdcKabDzHxa13UFfIyZBTO7hmHsWInDJWGu626UUr4FYK2UcmsmkzkzPDw8HQqFqLy8fHUul2tSjgG8YlnW4X/kzLbtHUTUDKA5nU4frqury84WnAnmIwB3AxjSNO1QMBjsqampmV4MfFVnLS0t/srKSpW+A5qmbYlEIj1EBNu2DSFERonZtn0DEbUAuAdAKQADQFNpaWlLVVVVbj5wUdiMiCCiF5nZAvDo6Ojo8fHxca2ioiImhPiiIKT2zrw/QEQHAaSZ+TkhxMllYY2NjZoQ4j4AbzPzjUQ0IKV8P5lMfrNu3TpjcnKyDcAzBXezoD4i2snMB4noE2ZuMwzj23A4/GdhzwJnnZ2dRiAQOEJEESnla4ZhdITD4T+ISA4ODq7K5/PfAXjSsqyvlYjjOHdKKX8RQniu64allIMAUgB+BvAhM7cWAlsA6+7uLjYM4xwznykqKnpq06ZNo4XIFMzzvIvM/K5pmvu6urpWB4PBnel0+s26urrLaj2bzVb7/f6QlHIXM5dJKR+PxWJfKY0FMNu2VeouEJGdyWS219bWTs2G5fP5y0Q0JKXcDaCeiO5Kp9O7FaywL5FI+KemprYy8yEA5yzLun8B7OzZs0XJZLIeQCuA34hor2maPQMDA1sCgcBAJpORCgbgEjOfJKIKIvrM7/fvn303SnhkZKR4bGysj4hClmXdNAd24sSJQC6XawTwPICLSpCIWouLiz9IpVL7AdzmeV6zruvn51XZLk3TOrLZbMDn8+WEEOqsaovbVSBEtNo0zbVzYK7r1kspjxHRD0T0KoBTkUhklIg8x3EeYeYjAFTJPzwbRkTvMbNq9g1E1GGaZhsza47jqDQfAPC5ZVkNc2D9/f1HVZUR0YMqdbMFbdter+4JwK1LjKQfPc+Lx2KxC8ysu667j5lfIqJjpmnumQ/rAlCbz+dL4/H4paGhoTLP85SjamYOAngIQKGBFzA1TduzefPmdwoLjuNsYOZ2ZvYLIdbPh6miaJBSPhGNRtvVZFDfL2Z+WQUxM4qWmrWnieiU53lvRKPRkZk26WXmCsuyrmTk79J3HCfKzMeJ6EvTNLepRZX7vr6+W3Rd30tELyzhjJn5qM/nawoEAr+rQdzb23uH3+//mJkhhIgsKH3btp8uKSn5tLq6emIpCytdSyQSN09MTJTH4/HvF23qlQpdy75lfwuuRfRqZ/67sL8ANUz/LBJ4NysAAAAASUVORK5CYII=\"","import PropTypes from 'prop-types';\nimport './Dialog.css';\n\nconst Dialog = ({title, actionText, onActionClick, onAbortClick, children}) => {\n  return (\n    <div className=\"dialog-wrapper\">\n      <dialog open>\n        <h2>{title}</h2>\n\n        {children}\n\n        <div className=\"dialog-buttons\">\n          <input \n            type=\"button\"\n            value=\"Schließen\"\n            onClick={onAbortClick} />\n\n          <input \n            type=\"button\"\n            value={actionText}\n            onClick={onActionClick} />\n\n        </div>\n      </dialog>\n    </div>\n  );\n};\n\nDialog.propTypes = {\n  title: PropTypes.node.isRequired,\n  actionText: PropTypes.node.isRequired,\n  onActionClick: PropTypes.func.isRequired,\n  onAbortClick: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired\n};\n\nexport default Dialog;","import { useState, useEffect } from \"react\";\nimport PropTypes from 'prop-types';\nimport Dialog from \".\";\n\nconst FilterDialog = ({onFilter, onHide}) => {\n\n  const [date, setDate] = useState(new Date().toISOString().slice(0, 10));\n  const [location, setLocation] = useState(0);\n  const [room, setRoom] = useState(0);\n  const [position, setPosition] = useState(0);\n\n  const [locationList, setLocations] = useState([]);\n  const [roomList, setRooms] = useState([]);\n  const [positionList, setPositions] = useState([]);\n\n  useEffect(() => {\n    fetch(\"/get_Data.php?locations\")\n      .then(res => res.json())\n      .then(json => {\n        setLocation(json[0].id);\n        setLocations(json);\n      })\n      .then(() => setRooms([]))\n      .then(() => setRoom(0))\n      .then(() => setPositions([]))\n      .then(() => setPosition(0));\n  }, []);\n\n  useEffect(() => {\n    fetch(\"/get_Data.php?location_id=\" + location)\n      .then(res => res.json())\n      .then(json => {\n        setRooms(json);\n        setRoom(json[0]);\n      })\n      .then(() => setPositions([]))\n      .then(() => setPosition(0));\n  }, [location]);\n\n  useEffect(() => {\n    fetch(\"/get_Data.php?room_id=\" + room)\n      .then(res => res.json())\n      .then(json => {\n        setPositions(json);\n        setPosition(json[0]);\n      });\n  }, [room]);\n\n  return (\n    <div id=\"filter-dialog\">\n      <Dialog\n        title=\"Daten filtern\"\n        actionText=\"Daten abrufen\"\n        onActionClick={() => onFilter({\n          date: date,\n          location: (locationList.filter(i => i.id === location)[0] || {}).name || \"\",\n          room: room,\n          position: position\n        })}\n        onAbortClick={onHide}>\n\n        {/* Datum */}\n\n        <label htmlFor=\"date\">Datum: </label>\n        <input\n          type=\"date\"\n          id=\"date\"\n          max={new Date().toISOString().slice(0, 10)}\n          value={date}\n          onChange={e => setDate(e.target.value)} /><br/>\n\n        {/* Standort */}\n\n        <label htmlFor=\"location\">Standort: </label>\n        <select id=\"location\"\n          value={location}\n          onChange={e => setLocation(parseInt(e.target.value))}>\n\n          {locationList.map((item) => \n            <option \n              key={item.id} \n              value={item.id}>\n                {item.name}\n            </option>\n          )}\n        </select><br/>\n        \n        {/* Raum */}\n\n        <label htmlFor=\"room\">Raum: </label>\n        <select id=\"room\"\n          value={room}\n          onChange={e => setRoom(parseInt(e.target.value))}>\n\n          {roomList.map((item) => \n            <option \n              key={item} \n              value={parseInt(item)}>\n                Raum {item}\n            </option>\n          )}\n        </select>\n        \n        {/* Position */}\n\n        <label htmlFor=\"position\">Position: </label>\n        <select id=\"position\"\n          value={position}\n          onChange={e => setPosition(parseInt(e.target.value))}>\n\n          {positionList.map((item) => \n            <option \n              key={item} \n              value={parseInt(item)}>\n                #{item}\n            </option>\n          )}\n        </select>\n      </Dialog>\n    </div>\n  );\n}\n\nFilterDialog.propTypes = {\n  onHide: PropTypes.func.isRequired\n};\n\nexport default FilterDialog;","import Dialog from '.';\nimport PropTypes from 'prop-types';\n\nconst InfoDialog = ({onHide}) => {\n  return (\n    <Dialog\n      title=\"Informationen\"\n      actionText=\"Auf GitHub ansehen\"\n      onActionClick={() => window.open(\"https://github.com/janbellenberg/mobiler-luftqualitaetsmesser\", '_blank').focus()}\n      onAbortClick={onHide}>\n\n      <img src=\"https://hnbk.de/wp-content/uploads/2017/04/HNBKSmall-e1492069901821.png\"\n        style={{\n          display: \"block\",\n          margin: \"0 auto 2em auto\"\n        }}\n        alt=\"HNBK\" />\n      Zur Überwachung der <b>Luftqualität</b> in den Klassenräumen soll eine autonome, mobile Messstation realisiert werden, \n      die in jedem Klassenraum an unterschiedlichen Positionen die \n      <b> CO2-Belastung in ppm, die Temperatur in °C und die Luftfeuchte in % misst \n      und diese in einer Datenbank speichert</b><p/>\n\n      <hr/>\n\n      Die Erfassung des Raumklimas erfolgt in den vorhandenen Klassenräumen. Die Darstellung soll auf einer Website erfolgen. \n      Das Projekt ist ein Feldversuch und hat keinen professionellen Charakter. Benutzer sollen Lehrer und Schüler des HNBKs sein. \n      Realisiert wird dieses Projekt durch Schülerinnen und Schüler des Beruflichen Gymnasiums im Rahmen der Berufsausbildung zum ITA (Informationstechnischer Assistentin)\n\n      <hr/>\n\n      Copyright © 2021 <a href=\"https://www.hnbk.de\" rel=\"nofollow\">Heinz-Nixdorf Berufskolleg</a><br/>\n      Lehrer: <a href=\"https://github.com/alfredlehmann\">Alfred Lehmann</a> &amp; Jörg Dixkens<br/>\n      Schüler:\n      <a href=\"https://github.com/janbellenberg\">@janbellenberg</a>, <a href=\"https://github.com/OmarAk312\">@OmarAk312</a>, <a href=\"https://github.com/NeroCyer\">@NeroCyer</a>, <a href=\"https://github.com/sara-shalouf\">@sara-shalouf</a>\n      <p/>\n    </Dialog>\n  );\n};\n\nInfoDialog.propTypes = {\n  onHide: PropTypes.func.isRequired\n};\n\nexport default InfoDialog;","import { useState } from \"react\";\nimport Header from \"./components/Header/\";\nimport DiagramElement from \"./components/GridElement/DiagramElement\";\nimport ActionElement from \"./components/GridElement/ActionElement\";\nimport InfoElement from \"./components/GridElement/InfoElement\";\nimport DiagDialog from \"./components/Dialog/DiagDialog\";\nimport FilterDialog from \"./components/Dialog/FilterDialog\";\nimport InfoDialog from \"./components/Dialog/InfoDialog\";\n\nconst App = () => {\n  \n  const [temperature, setTemperature] = useState([]);\n  const [humidity, setHumidity] = useState([]);\n  const [co2, setCo2] = useState([]);\n  const [labels, setLabels] = useState([]);\n\n  const [selectedLocation, setSelectedLocation] = useState();\n  const [selectedRoom, setSelectedRoom] = useState();\n  const [selectedPosition, setSelectedPosition] = useState();\n  const [lastFilter, setLastFilter] = useState();\n\n  const [showDiagDialog, setShowDiagDialog] = useState(false);\n  const [showFilterDialog, setShowFilterDialog] = useState(true);\n  const [showInfoDialog, setShowInfoDialog] = useState(false);\n\n  const updateData = async (date, position) => {\n    let tmp = await fetch(\"/get_Data.php?date=\" + date + \"&position=\" + position);\n    tmp = await tmp.json();\n    let t = [];\n    let h = [];\n    let c = [];\n    let l = [];\n\n    tmp.forEach((item) => {\n      t.push(item.temperature);\n      h.push(item.humidity);\n      c.push(item.co2);\n      l.push(item.timestamp);\n    });\n\n    setTemperature(t);\n    setHumidity(h);\n    setCo2(c);\n    setLabels(l);\n  };\n\n  const exportCSV = () => {\n    let result = \"data:text/csv;charset=utf-8,\";\n    result += 'Zeit;Temperatur;Luftfeuchte;CO2-Gehalt\\r\\n';\n\n    for(let i = 0; i < labels.length; i++) {\n      result += labels[i];\n      result += ';';\n      result += temperature[i];\n      result += ';';\n      result += humidity[i];\n      result += ';';\n      result += co2[i];\n      result += '\\r\\n';\n    }\n\n    encodeURI(result);\n\n    var link = document.createElement(\"a\");\n    link.setAttribute(\"href\", encodeURI(result));\n    link.setAttribute(\"download\", \"export.\" + lastFilter.date + \".csv\");\n    document.body.appendChild(link);\n\n    link.click();\n  }\n\n  return (\n    <div className=\"App\">\n      <Header\n        onLoadData={() => setShowFilterDialog(true)}\n        onDiag={() => setShowDiagDialog(true)} />\n      <br/>\n\n      <main>\n        <div>\n          <InfoElement\n            location={selectedLocation || \"Standort nicht ausgewählt\"}\n            room={selectedRoom || \"nicht ausgewählt\"}\n            position={selectedPosition || \" -\"}\n            temperature={temperature[temperature.length - 1]}\n            humidity={humidity[humidity.length - 1]}\n            co2={co2[co2.length - 1]} />\n          \n          <ActionElement onExport={() => {\n            if(lastFilter !== undefined) {\n              exportCSV();\n            }\n          }} onInfo={() => setShowInfoDialog(true)}  onRefresh={() => {\n            if(lastFilter === undefined) {\n              setShowFilterDialog(true);\n            } else {\n              updateData(lastFilter.date, lastFilter.position);\n            }\n          }} />\n        </div>\n\n        <DiagramElement \n          title=\"Temperatur in °C\"\n          data={temperature}\n          labels={labels}\n          min={-10}\n          max={40} />\n\n        <DiagramElement \n          title=\"Luftfeuchte in %\"\n          data={humidity}\n          labels={labels}\n          min={0}\n          max={100} />\n\n        <DiagramElement \n          title=\"CO&#8322; in ppm\"\n          data={co2}\n          labels={labels}\n          min={0}\n          max={5000} />\n      </main>\n\n      { showDiagDialog\n        ? <DiagDialog onHide={() => setShowDiagDialog(false)} />\n        : null\n      }\n\n      { showFilterDialog\n        ? <FilterDialog\n            onFilter={(data) => {\n              setSelectedLocation(data.location);\n              setSelectedRoom(data.room);\n              setSelectedPosition(data.position);\n              updateData(data.date, data.position);\n              setShowFilterDialog(false);\n              setLastFilter({date: data.date, position: data.position});\n            }}\n            onHide={() => setShowFilterDialog(false)} />\n        : null\n      }\n\n      { showInfoDialog\n        ? <InfoDialog onHide={() => setShowInfoDialog(false)} />\n        : null\n      }\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './style/style.css';\nimport './style/colors.css';\nimport './style/fonts.css';\nimport './style/scrollbars.css';\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);"],"sourceRoot":""}